<%- include("./partials/headAntigo") %>

<%- include("./partials/head") %>
<!-- ---------------------------  -->
<body>

    <div class="layout-wrapper layout-content-navbar">
        <div class="layout-container">
    <%- include("./partials/headerLado") %>


        <!-- Layout container -->
        <div class="layout-page">
            <!-- Navbar -->
  
    <%- include("./partials/headerCima") %>

          <!-- / Navbar -->

          <!-- Content wrapper -->
          <div class="content-wrapper">
            <!-- Content -->

            <div class="container-xxl flex-grow-1 container-p-y">
       
    <main style="background-color: #312d4b;">
        <h5 class="mb-0"><%= title %></h5>
        <p>Pergunta <%= questionNumber %> de <%= totalQuestions %></p>
        <div id="spelling-game">
            <% if (card.imageUrl) { %>
                <h6>Digite a palavra correspondente à imagem:</h6>
                <img class="img-spelling" src="<%= card.imageUrl %>" alt="Imagem" style="max-width: 100%; height: auto; width: 400px; display: block; margin: 0 auto; border-radius: 5px;">
                <form id="spellingForm" action="/spelling/check" method="POST">
                    <div class="d-flex align-items-center justify-content-between app-academy-md-80">
                        <input type="hidden" name="expectedWord" value="<%= card.word.trim().toLowerCase() %>"> <!-- Palavra em inglês para a imagem -->
                        <input type="text" name="userAnswer" class="form-control form-control-sm me-4" placeholder="Digite aqui" style="width: 100%;" required>
                        <button type="submit" class="btn btn-primary btn-icon">
                          <i class="ri-search-line ri-22px"></i>
                        </button>
                      </div>
                </form>
            <% } else { %>
                <h6>Digite a tradução da palavra:</h6>
                <p><%= card.word %></p>
                <form id="spellingForm" action="/spelling/check" method="POST">
                    <div class="d-flex align-items-center justify-content-between app-academy-md-80">
                        <input type="hidden" name="expectedTranslation" value="<%= card.translation.trim().toLowerCase() %>"> <!-- Tradução correta -->
                        <input type="text" name="userAnswer" class="form-control form-control-sm me-4" placeholder="Digite aqui" style="width: 100%;" required>
                        <button type="submit" class="btn btn-primary btn-icon">
                          <i class="ri-search-line ri-22px"></i>
                        </button>
                      </div>
                </form>

            <% } %>
            <div id="result">
                <% if (typeof feedback !== 'undefined') { %>
                    <p class="<%= feedback === 'Correto!' ? 'correct' : 'incorrect' %>"><%= feedback %></p>
                <% } %>
            </div>
        </div>
    </main>

    
    <style>
        #spelling-game form {
             display: block; 
             margin-top: 1rem;
        }

        #spelling-game button {
        margin-top: 0;
        margin-bottom: 7px;
        width: 15%;
        height: auto;
        background-color: blueviolet;
    }
    
    main {
        margin-top: 0;
    }

    .container-p-y:not([class^=pt-]):not([class*=" pt-"]) {
        padding-top: 0rem !important;
    }
    
    </style>
            </div>
            <!-- / Content -->


            <div class="content-backdrop fade"></div>
          </div>
          <!-- Content wrapper -->
        </div>
        <!-- / Layout page -->
      </div>

      <!-- Overlay -->
      <div class="layout-overlay layout-menu-toggle"></div>

      <!-- Drag Target Area To SlideIn Menu On Small Screens -->
      <div class="drag-target"></div>
    </div>
    <!-- / Layout wrapper -->

    <%- include("./partials/linkFooter") %>

  </body>
</html>
